{{ 'rd-stat-strips.js' | asset_url | script_tag }}

<section
  id="rd-stat-strips-{{ section.id }}"
  class="rd-stat-strips color-{{ section.settings.color_scheme }}{% if section.settings.full_width %} rd-stat-strips--full{% else %} rd-stat-strips--page{% endif %}"
  data-component="rd-stat-strips"
  data-section-id="{{ section.id }}"
>
  <div class="rd-stat-strips__inner">
    {% if section.settings.heading != blank or section.settings.subheading != blank %}
      <header class="rd-stat-strips__header">
        {% if section.settings.heading != blank %}
          <h2 class="rd-stat-strips__heading">
            {{ section.settings.heading | escape }}
          </h2>
        {% endif %}
        {% if section.settings.subheading != blank %}
          <p class="rd-stat-strips__subheading">
            {{ section.settings.subheading }}
          </p>
        {% endif %}
      </header>
    {% endif %}

    <div class="rd-stat-strips__rows">
      {% for block in section.blocks %}
        {% if block.type == 'row' %}
          {% assign b = block.settings %}

          <article
            class="rd-row rd-row--{{ b.direction }}{% if b.compact %} rd-row--compact{% endif %}"
            data-row
            {{ block.shopify_attributes }}
          >
            <div class="rd-row__base-pill"></div>

            {% if b.image != blank %}
              <div class="rd-row__media">
                {{ b.image | image_url: width: 1600 | image_tag:
                  loading: 'lazy',
                  sizes: '(min-width: 990px) 50vw, 100vw',
                  widths: '400, 800, 1200, 1600',
                  class: 'rd-row__image'
                }}
              </div>
            {% endif %}

            <div class="rd-row__wipe"></div>

            <div class="rd-row__content">
              {% if b.leading_text != blank %}
                <span class="rd-row__stat rd-row__stat--accent">
                  {{ b.leading_text }}
                </span>
              {% endif %}
              {% if b.trailing_text != blank %}
                <span class="rd-row__stat rd-row__stat--main">
                  {{ b.trailing_text }}
                </span>
              {% endif %}
            </div>
          </article>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
    .rd-stat-strips {
  padding-block: clamp(2.5rem, 5vw, 4rem);
}

.rd-stat-strips--page .rd-stat-strips__inner {
  max-width: 1200px;
  margin-inline: auto;
  padding-inline: 1.5rem;
}

.rd-stat-strips--full .rd-stat-strips__inner {
  max-width: 1440px;
  margin-inline: auto;
  padding-inline: 1.5rem;
}

.rd-stat-strips__header {
  margin-bottom: clamp(2rem, 4vw, 3rem);
}

.rd-stat-strips__heading {
  font-size: clamp(1.75rem, 3vw, 2.25rem);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.rd-stat-strips__subheading {
  margin-top: 0.75rem;
  max-width: 32rem;
  opacity: 0.8;
}

.rd-stat-strips__rows {
  display: flex;
  flex-direction: column;
  gap: clamp(1rem, 2vw, 1.5rem);
}

/* Row base */

.rd-row {
  position: relative;
  border-radius: 999px;
  overflow: hidden;
  min-height: 80px;
  display: flex;
  align-items: center;
  isolation: isolate;
}

.rd-row--compact {
  min-height: 58px;
}

.rd-stat-strips__rows > .rd-row:last-child {
  margin-bottom: 0;
}

.rd-row__base-pill {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: rgba(0, 0, 0, 0.06);
}

/* Background image */

.rd-row__media {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
  opacity: 0;
  transform: scale(1.03);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.rd-row__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Wipe animation */

.rd-row__wipe {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: rgba(255, 255, 255, 0.7);
  transform: translateX(-100%);
  transition: transform 0.9s cubic-bezier(0.16, 1, 0.3, 1);
}

.rd-row--rtl .rd-row__wipe {
  transform: translateX(100%);
}

.rd-row.is-visible .rd-row__wipe {
  transform: translateX(0);
}

/* Content */

.rd-row__content {
  position: relative;
  z-index: 3;
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.75rem;
  padding-inline: clamp(1.25rem, 3vw, 2.5rem);
  width: 100%;
  opacity: 0;
  transform: translateY(6px);
  transition:
    opacity 0.45s ease 0.35s,
    transform 0.45s ease 0.35s;
}

.rd-row.is-visible .rd-row__content {
  opacity: 1;
  transform: none;
}

.rd-row__stat {
  white-space: nowrap;
}

.rd-row__stat--accent {
  color: #26ff8a;
  font-weight: 600;
  letter-spacing: 0.08em;
  font-size: clamp(1.25rem, 3vw, 1.75rem);
}

.rd-row__stat--main {
  font-size: clamp(1.5rem, 3.5vw, 2.4rem);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

/* Visible state image */
.rd-row.is-visible .rd-row__media {
  opacity: 1;
  transform: scale(1);
}
/* Responsive */
@media (max-width: 989px) {
  .rd-row {
    min-height: 70px;
  }

  .rd-row__content {
    padding-inline: 1.25rem;
  }
}

@media (max-width: 749px) {
  .rd-row {
    min-height: 64px;
  }

  .rd-row__content {
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 0.25rem;
  }

  .rd-row__stat--accent {
    font-size: clamp(1.1rem, 5vw, 1.3rem);
  }

  .rd-row__stat--main {
    font-size: clamp(1.35rem, 6vw, 1.7rem);
  }
}
</style>

{% schema %}
{
  "name": "Stat Strips",
  "tag": "section",
  "class": "section rd-stat-strips-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Relentless testing"
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>Add a short line about the years of R&D behind the product.</p>"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": true
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "background-1",
      "options": [
        { "value": "background-1", "label": "Default" },
        { "value": "background-2", "label": "Inverse" },
        { "value": "background-3", "label": "Soft" },
        { "value": "accent-1", "label": "Accent 1" },
        { "value": "accent-2", "label": "Accent 2" }
      ]
    }
  ],
  "blocks": [
    {
      "type": "row",
      "name": "Row",
      "settings": [
        {
          "type": "text",
          "id": "leading_text",
          "label": "Leading stat (green)",
          "default": "6 YEARS"
        },
        {
          "type": "text",
          "id": "trailing_text",
          "label": "Trailing stat (black)",
          "default": "4500 HOURS"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Background image"
        },
        {
          "type": "select",
          "id": "direction",
          "label": "Wipe direction",
          "default": "ltr",
          "options": [
            { "value": "ltr", "label": "Left to right" },
            { "value": "rtl", "label": "Right to left" }
          ]
        },
        {
          "type": "checkbox",
          "id": "compact",
          "label": "Compact height",
          "default": false
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Stat Strips",
      "blocks": [
        {
          "type": "row",
          "settings": {
            "leading_text": "6 YEARS",
            "trailing_text": "4500 HOURS",
            "direction": "ltr"
          }
        },
        {
          "type": "row",
          "settings": {
            "leading_text": "42 PROTOTYPES",
            "trailing_text": "300KM FAST BALLS",
            "direction": "rtl"
          }
        }
      ]
    }
  ]
}
{% endschema %}
